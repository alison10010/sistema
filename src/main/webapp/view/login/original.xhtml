<!DOCTYPE html>
<html lang="pt-BR" 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<h:head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/png" href="/security/img/fevicon.png" />
  
  <title><ui:insert name="title">Sistema de Aplicações</ui:insert></title>
  
  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="/security/bootstrap/plugins/fontawesome-free/css/all.min.css" />
  <!-- Theme style -->
  <link rel="stylesheet" href="/security/bootstrap/adminlte.min.css" />

  <!-- Estilo manual -->
  <link rel="stylesheet" href="/security/css/templatePrincipal.css" />  
  <link rel="stylesheet" href="/security/css/corpoStyle.css" />  

<style>
	@media (min-width: 768px){
		body:not(.sidebar-mini-md):not(.sidebar-mini-xs):not(.layout-top-nav) .content-wrapper, .main-header, .main-footer{
		margin-left: 0 !important;
		}
	
	}
	.navbar-green {
	    background-color: #296b58 !important; 	
	}
	@media (max-width: 600px) {
		.logoLogin{
			width: 27% !important;
	  		margin-top: 0rem !important;
		}
		.divCentro{
			margin-left: 5px;
		    margin-right: 5px;
	    }
	}
</style>
</h:head>

<h:body class="hold-transition sidebar-mini">

<div class="wrapper">

  <!-- Topo - Inicio -->
  <nav class="main-header navbar navbar-expand navbar-green navbar-light">   
    <ul class="navbar-nav">
      <li>
        <img src="/security/img/logo_nova.png" alt="Logo" style="max-width:242px; height:72px;"/>
      </li>
    </ul>
  </nav> 
  <!-- Topo - Fim -->
  
  <!-- Corpo da page - Inicio -->
  <div class="content-wrapper"> 	
    <!-- Main content -->    
    	<div class="content">       	    			    			
      			<div class="row">
      		
				<div class="form-inline divCentro" style="width: 100%;margin-top: 8rem">				
					
			          <p:card class="card card-primary card-outline col-md-3">	
			          	<center>
							<c:choose>
						        <c:when test="${param.error eq 'bad'}">
						            <span style="color:red;">Usuário ou senha inválidos!</span>
						        </c:when>
						        <c:when test="${param.error eq 'locked'}">
						            <span style="color:red;">Muitas tentativas! Aguarde alguns minutos antes de tentar novamente.</span>
						            <span id="contador" style="font-weight:bold; display:block; margin-top:6px;"></span>
						        </c:when>
						        <c:when test="${param.error eq 'denied'}">
						            <span style="color:red;">Você não possui acesso ao sistema.</span>
						        </c:when>
						        <c:when test="${param.error eq 'auth'}">
						            <span style="color:red;">Erro na autenticação</span>
						        </c:when>
						        <c:when test="${param.logout eq 'true'}">
						            <span style="color:green;">Logout realizado com sucesso!</span>
						        </c:when>
						    </c:choose>
							
							<span id="geoStatus" style="font-weight:bold; display:block; margin-top:6px;">
					            
					        </span>

	            		</center>
	            		<form action="/security/login" method="post">
	            		
	            			<p:inputText id="latitude" name="latitude" value="" type="hidden" />					        
					        <p:inputText id="longitude" name="longitude" value="" type="hidden" />
	
			              <div class="card-body" style="padding: 0;">       
				                <p>CPF:</p>
				                <div class="input-group mb-3">                                    
				                  <p:inputText type="text" class="form-control" id="username" placeholder="usuario"  showDetail="false" maxlength="60"
					                  required="true" requiredMessage="Digite o usuário!" 
					                  validatorMessage="Informe o usuário!" value="#{login.username}">
				                  	<f:validateLength minimum="1"></f:validateLength>
				                  </p:inputText>

				                </div>
				                
				                <p>Senha de acesso:</p>
				                <div class="input-group mb-3">
				                  <p:inputText type="password" class="form-control" id="password" placeholder="Digite sua senha"  showDetail="false"
				                    required="true" requiredMessage="Digite sua senha!" validatorMessage="Digite sua senha!" value="#{login.password}">
				                  	<f:validateLength minimum="1"></f:validateLength>
				                  </p:inputText>
				                </div>
				                <br />
				                <div style="text-align: -webkit-center">
					                <p:commandButton class="btn btn-primary" value="Acessar" ajax="false" id="acessar" style="width: 50%;padding:0;">
									</p:commandButton>						
									<br />
								</div>	
		            		</div>
	            		</form>
	            		<br />
	            		<center>
	            		<a href="http://www.acreprevidencia.ac.gov.br:8080/provadevida/faces/atualizacao/acessar.xhtml" style="color: #212529;">Acesso restrito</a>
	            		</center>
					</p:card>											
			 	</div>			 
			</div>

		        <div style="text-align: -webkit-center; font-size: 12px">        
			        <label> Instituto de Previdência do Estado do Acre - ACREPREVIDÊNCIA</label>
		        </div>
		
    </div>
  </div>
  <!-- Corpo da page - Fim -->

  <!-- Main Footer -->
  
  <footer class="main-footer">
    	<p:outputLabel id="anoCorrente" style="font-size: 14px" />
  </footer>
  
</div>

<!-- REQUIRED SCRIPTS -->
<script>
    // Obtém o ano corrente
    const agora = new Date();
    const anoCorrente = agora.getFullYear();
    document.getElementById('anoCorrente').textContent = "Copyright © - " +anoCorrente + " Acreprevidência - Departamento de Tecnologia da Informação.";
</script>


 <script src="/security/bootstrap/solicita-localizacao.js"></script>


<script src="/security/bootstrap/tentativa-login.js" />

<script src="/security/bootstrap/scriptManual.js"></script>
  
<script src="/security/bootstrap/jquery.min.js"></script>
<!-- Bootstrap 4 -->
<script src="/security/bootstrap/bootstrap.bundle.min.js"></script>
<!-- AdminLTE App -->
<script src="/security/bootstrap/adminlte.min.js"></script>

</h:body>
</html>
